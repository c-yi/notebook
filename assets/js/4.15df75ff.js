(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{279:function(t,e,n){},382:function(t,e,n){var a=n(2),r=n(383);a({target:"Array",stat:!0,forced:!n(105)((function(t){Array.from(t)}))},{from:r})},383:function(t,e,n){"use strict";var a=n(48),r=n(16),o=n(153),i=n(103),s=n(7),c=n(68),l=n(104);t.exports=function(t){var e,n,u,f,d,h,v=r(t),m="function"==typeof this?this:Array,p=arguments.length,g=p>1?arguments[1]:void 0,w=void 0!==g,y=l(v),b=0;if(w&&(g=a(g,p>2?arguments[2]:void 0,2)),null==y||m==Array&&i(y))for(n=new m(e=s(v.length));e>b;b++)h=w?g(v[b],b):v[b],c(n,b,h);else for(d=(f=y.call(v)).next,n=new m;!(u=d.call(f)).done;b++)h=w?o(f,g,[u.value,b],!0):u.value,c(n,b,h);return n.length=b,n}},384:function(t,e,n){"use strict";var a=n(279);n.n(a).a},394:function(t,e,n){"use strict";n.r(e);n(91),n(382),n(155),n(156),n(72),n(157),n(17),n(38),n(71),n(147),n(160),n(161),n(162),n(163),n(164),n(165),n(166),n(167),n(168),n(169),n(170),n(171),n(172),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(181),n(182),n(183),n(93);var a=function(t){return t/1024>=1024?(t/1024/1024).toFixed(1)+"M":(t/1024).toFixed(1)+"k"},r={name:"PerformanceImg",props:{canvasProp:{type:Object,default:function(){return{canvas_w:600,canvas_h:400}}}},data:function(){return{source:[],canvas:[]}},methods:{fillFile:function(){var t=this,e=this.$refs.imgList.files;console.log(e),Array.from(e).forEach((function(e){var n=new FileReader,a=e.size,r=e.name,o=e.type;n.readAsDataURL(e),n.onload=function(){var e={size:a,name:r,type:o,src:n.result};t.source.push(e),t.drawImage(e)}}))},drawImage:function(t){var e=this,n=t.src,a=t.name,r=t.type,o=new Image;o.src=n,o.onload=function(){var t=document.createElement("canvas"),n=e.getZoom(o),i=n.w,s=n.h;t.width=i,t.height=s,t.getContext("2d").drawImage(o,0,0,i,s);var c=t.toDataURL(r||"image/png",.8);document.getElementById("canvas").appendChild(t),e.download(c,a,r)}},download:function(t,e,n){var r=document.createElement("a");r.href=t,r.download=e;var o=this.b64ToBlob(t,n);r.textContent="下载"+a(o.size),document.getElementById("canvas").appendChild(r)},getZoom:function(t){var e=t.width,n=t.height,a=this.canvasProp,r=a.canvas_w,o=a.canvas_h,i=e,s=n;return(e>r||n>o)&&(e/n>r/o?(i=r,s=Math.round(r*(n/e))):(s=o,i=Math.round(o*(e/n)))),{w:i,h:s}},b64ToBlob:function(t,e){for(var n=atob(t.split(",")[1]),a=new ArrayBuffer(n.length),r=new Uint8Array(a),o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return new Blob([a],{type:e||"image/jpeg"})}},filters:{floatSize:a}},o=(n(384),n(23)),i=Object(o.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("input",{ref:"imgList",attrs:{type:"file",multiple:""},on:{change:this.fillFile}}),this._v(" "),this._m(0)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"img-box"},[e("div",{attrs:{id:"canvas"}},[e("div",[this._v("canvas")])])])}],!1,null,"e693ffe6",null);e.default=i.exports}}]);