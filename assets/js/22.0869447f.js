(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{378:function(s,a,t){s.exports=t.p+"assets/img/1581257928702.9ba8b456.png"},553:function(s,a,t){"use strict";t.r(a);var n=t(23),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"镜像-容器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#镜像-容器"}},[s._v("#")]),s._v(" 镜像/容器")]),s._v(" "),n("h2",{attrs:{id:"镜像"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#镜像"}},[s._v("#")]),s._v(" 镜像")]),s._v(" "),n("div",{staticClass:"language-powershell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-powershell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 拉取镜像 ")]),s._v("\ndocker pull  $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("imagesName:version"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" 指定版本"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("如果不指定版本"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("默认拉取最新版本 \n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 搜索镜像 ")]),s._v("\ndocker search $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("imageName"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除镜像 ")]),s._v("\ndocker rmi 名称"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("id 删除多个中间加一个空格\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 列出镜像 ")]),s._v("\ndocker images \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("p",[n("img",{attrs:{src:t(378),alt:"1581257928702"}})]),s._v(" "),n("h2",{attrs:{id:"容器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#容器"}},[s._v("#")]),s._v(" 容器")]),s._v(" "),n("blockquote",[n("p",[s._v("创建交互式容器")])]),s._v(" "),n("div",{staticClass:"language-powershell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-powershell"}},[n("code",[s._v("docker run "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("i "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("t "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("name =c1 centos "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bash\n或\ndocker run "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("it "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("name  c1 centos "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bash\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -i\t\t\t\t运行容器,交互式容器")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -t\t \t\t\ttty终端 ( 分配一个终端,操作容器 )")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -d\t在 run 后面加上-d 参数,则会创建一个守护式容器在后台运行（这样创建容器后不会自动登录容器，如果只加-i -t 两个参数，创建后就会自动进去容器）")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# --name \t\t\t指定容器的名称(唯一不能重复)")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# /bin/bash\t\t\t放在镜像名后的是命令，这里我们希望有个交互式 Shell，因此用的是 /bin/bash")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -v\t     表示目录映射关系（前者是宿主机目录，后者是映射到宿主机上的目录），可以使用多个－v 做多个目录")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -p    \t表示端口映射，前者是宿主机端口，后者是容器内的映射端口。可以使用多个－p 做多个端口映射")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 退出交互式容器终端，直接输入 ")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("exit")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("blockquote",[n("p",[s._v("创建守护式容器 -后台运行")])]),s._v(" "),n("div",{staticClass:"language-powershell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-powershell"}},[n("code",[s._v("docker run "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("itd "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("name =c2 centos "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bash\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入容器")]),s._v("\ndocker attach\ndocker exec "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker exec -it 容器名称 /bin/bash")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 推荐大家使用 docker exec 命令，因为此退出容器终端，不会导致容器的停止。")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("blockquote",[n("p",[s._v("docker run -it --name=mjw_tomcat -p 88:80 -v /usr/local/a:/usr/local/tomcat/b tomcat")])]),s._v(" "),n("h2",{attrs:{id:"查看-容器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#查看-容器"}},[s._v("#")]),s._v(" 查看 容器")]),s._v(" "),n("div",{staticClass:"language-powershell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-powershell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看正在运行的容器")]),s._v("\ndocker "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看运行过的容器 ( 历史 )")]),s._v("\ndocker "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("a\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查询所有容器id")]),s._v("\ndocker "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("a "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("q\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看最后一次运行的容器")]),s._v("\ndocker "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("l\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除容器")]),s._v("\ndocker "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" 名称"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("id\ndocker "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" `docker "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("a "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("q`  \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")])]),n("h2",{attrs:{id:"启动-停止容器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#启动-停止容器"}},[s._v("#")]),s._v(" 启动/停止容器")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# 启动\ndocker start name/id\n# 重启\ndocker restart name/id\n# 停止\ndocker stop name/id\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("h2",{attrs:{id:"查看容器的详细信息"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#查看容器的详细信息"}},[s._v("#")]),s._v(" 查看容器的详细信息")]),s._v(" "),n("div",{staticClass:"language-powershell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-powershell"}},[n("code",[s._v("docker inspect 容器名称"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("id\ndocker inspect "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("f="),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{{ NetworkSettings.IPAddress }}'")]),s._v(" 容器名称\ndocker inspect "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("format="),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{{ Networksettings.IPAddress }}'")]),s._v(" 容器名称\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h2",{attrs:{id:"查看容器日志"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#查看容器日志"}},[s._v("#")]),s._v(" 查看容器日志")]),s._v(" "),n("div",{staticClass:"language-powershell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-powershell"}},[n("code",[s._v("docker logs 容器名称"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("id\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h2",{attrs:{id:"文件拷贝"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#文件拷贝"}},[s._v("#")]),s._v(" 文件拷贝")]),s._v(" "),n("div",{staticClass:"language-powershell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-powershell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将文件拷贝到容器内")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果我们需要将文件拷贝到容器内可以使用 cp 命令")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker cp 需要拷贝的文件或目录 容器名称容器自录")]),s._v("\n例如: docker "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" 1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("txt c2:"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("root\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 也可以将文件从容器内拷贝出来")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker cp 容器名称:容器目录 需要拷贝的文件或目录 ")]),s._v("\n例如: docker "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" c2:"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("root"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("txt "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("root\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[s._v("目录挂载\n我们可以在创建容器的时候,将宿主机的目录与容器内的目录进行映射,这样我们就可以通过修改宿主机某个目录\n的文件从而去影响容器")]),s._v(" "),n("div",{staticClass:"language-powershell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-powershell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建容器添加 -v 参数后边为 宿主机目录 : 容器目录")]),s._v("\ndocker run "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("name=c4  "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("v "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("opt"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" :  "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("myhtmlcentos\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);