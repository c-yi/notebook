(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{461:function(a,s,e){"use strict";e.r(s);var t=e(23),r=Object(t.a)({},(function(){var a=this,s=a.$createElement,e=a._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"字符集-校对集"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#字符集-校对集"}},[a._v("#")]),a._v(" 字符集 / 校对集")]),a._v(" "),e("h2",{attrs:{id:"字符集"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#字符集"}},[a._v("#")]),a._v(" 字符集")]),a._v(" "),e("blockquote",[e("p",[a._v("show charset;   查看系统支持的字符集")])]),a._v(" "),e("h3",{attrs:{id:"乱码-问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#乱码-问题"}},[a._v("#")]),a._v(" 乱码 问题")]),a._v(" "),e("p",[a._v("解决乱码问题其实本质就是统一字符集问题")]),a._v(" "),e("blockquote",[e("p",[a._v("客户端字符集: character_ set_client"),e("br"),a._v("\n连接层字符集: character_ set_connection"),e("br"),a._v("\n结果集字符集: character_ set_results"),e("br"),a._v("\n简单统一方式: set names 客户端字符集")])]),a._v(" "),e("p",[a._v("存储字符集:不用考虑,因为数据库有强大的字符集转换能力,只要在开始设置好,保证后续数据不会超出字\n符集即可")]),a._v(" "),e("h3",{attrs:{id:"设置字符集"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#设置字符集"}},[a._v("#")]),a._v(" 设置字符集")]),a._v(" "),e("blockquote",[e("p",[a._v("mysql 支持设置变量"),e("br"),a._v("\n查看所有变量"),e("br"),a._v("\nshow variables like 'character%';")])]),a._v(" "),e("ol",[e("li",[e("p",[a._v("查看系统内部存储这些记录字符集的信息")]),a._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("#%表示通配符,匹配后续所有不确定的数据\nshow variables like' character set%;\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br")])])]),a._v(" "),e("li",[e("p",[a._v("修改客户端字符集变量,保证数据正常存进服务端")]),a._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("set character _set_client  = gbk;\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])])]),a._v(" "),e("li",[e("p",[a._v("修改客户端解析字符集变量,保证数据正常被客户端査看")]),a._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("set character-set_results= gbk;\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])])]),a._v(" "),e("li",[e("p",[a._v("使用 set names字符集批量修改,保证客户端被服务端正确理解,同时客户端也能正确解析")]),a._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("set names gbk;\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])])])]),a._v(" "),e("h2",{attrs:{id:"校对集"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#校对集"}},[a._v("#")]),a._v(" 校对集")]),a._v(" "),e("blockquote",[e("p",[a._v("概念 : 数据校对时的对应规则;")])]),a._v(" "),e("p",[a._v("MySQL中四层对象都可以设置校对集")]),a._v(" "),e("blockquote",[e("p",[a._v("DBMS:配置文件"),e("br"),a._v("\nDB创建数据库时限定(设置)"),e("br"),a._v("\nTabe:创建表时限定"),e("br"),a._v("\nFied:创建字段时限定")])]),a._v(" "),e("h3",{attrs:{id:"校对集分类"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#校对集分类"}},[a._v("#")]),a._v(" 校对集分类")]),a._v(" "),e("p",[a._v("校对集: "),e("code",[a._v("collate / collation")]),a._v(",即数据比较时对应的规则\n校对集依赖字符集\n校对集的校对方式分为三种")]),a._v(" "),e("ul",[e("li",[a._v("大小写不敏感: _ci, case insensitive(不区分大小写)")]),a._v(" "),e("li",[a._v("大小写敏感: _cs, case sensitive(区分大小写)")]),a._v(" "),e("li",[a._v("二进制比较:bin, binary(区分大小写)")])]),a._v(" "),e("p",[a._v("校对集是在进行数据比较的时候触发")]),a._v(" "),e("h3",{attrs:{id:"校对集设置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#校对集设置"}},[a._v("#")]),a._v(" 校对集设置")]),a._v(" "),e("p",[a._v("每个校对集都有字符集对应的默认规则\n校对集设置语法\ncollate校对集规则\n示例")]),a._v(" "),e("ol",[e("li",[e("p",[a._v("查看 MySQL支持的所有校对集")]),a._v(" "),e("div",{staticClass:"language-my line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("show collation;\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])])]),a._v(" "),e("li",[e("p",[a._v("在数据库层设计校对集")]),a._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("create database d_3 charset utf8mb4 collate utf8mb4_bin;\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])])]),a._v(" "),e("li",[e("p",[a._v("在数据表层设计校对集")]),a._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("create table t_4(\n\tid int,\n\tname varchar(10)\n)charset utf8mb4 collate utf8mb4_bin;\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br")])])]),a._v(" "),e("li",[e("p",[a._v("在字段层设计校对集(一般不常用)")]),a._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("create table t5(\n\tid int,\n\tname varchar(10) collate utf8mb4_bin\n)charset utf8mb4;\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br")])])])])])}),[],!1,null,null,null);s.default=r.exports}}]);