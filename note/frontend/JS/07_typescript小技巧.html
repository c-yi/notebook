<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>typescript 梳理 | Blog Note</title>
    <meta name="description" content="Just playing around">
    <meta name="generator" content="VuePress 1.4.0">
    <link rel="icon" href="/notebook/image/PWA/icon-128x128.png">
  <link rel="apple-touch-icon" href="/notebook/image/PWA/icon-128x128.png">
  <link rel="manifest" href="/notebook/manifest.json">
  <link rel="theme" content="#FFFFFF">
    
    <link rel="preload" href="/notebook/assets/css/0.styles.2780c180.css" as="style"><link rel="preload" href="/notebook/assets/js/app.5b743b3d.js" as="script"><link rel="preload" href="/notebook/assets/js/2.5a190a38.js" as="script"><link rel="preload" href="/notebook/assets/js/19.44006621.js" as="script"><link rel="preload" href="/notebook/assets/js/10.996aadc4.js" as="script"><link rel="prefetch" href="/notebook/assets/js/100.4162c49e.js"><link rel="prefetch" href="/notebook/assets/js/101.675afa13.js"><link rel="prefetch" href="/notebook/assets/js/102.3dcf49f6.js"><link rel="prefetch" href="/notebook/assets/js/103.8b2eb3e8.js"><link rel="prefetch" href="/notebook/assets/js/104.3d483aed.js"><link rel="prefetch" href="/notebook/assets/js/105.2f869c10.js"><link rel="prefetch" href="/notebook/assets/js/106.a675d60a.js"><link rel="prefetch" href="/notebook/assets/js/107.c0849254.js"><link rel="prefetch" href="/notebook/assets/js/108.c90aa6ac.js"><link rel="prefetch" href="/notebook/assets/js/109.e5c27bf4.js"><link rel="prefetch" href="/notebook/assets/js/11.30b20ddb.js"><link rel="prefetch" href="/notebook/assets/js/110.67983a88.js"><link rel="prefetch" href="/notebook/assets/js/111.bf1b30e8.js"><link rel="prefetch" href="/notebook/assets/js/112.c822d78c.js"><link rel="prefetch" href="/notebook/assets/js/113.c18b5f89.js"><link rel="prefetch" href="/notebook/assets/js/114.8a218373.js"><link rel="prefetch" href="/notebook/assets/js/115.d77c4669.js"><link rel="prefetch" href="/notebook/assets/js/116.1bc60bdd.js"><link rel="prefetch" href="/notebook/assets/js/117.4227ed4f.js"><link rel="prefetch" href="/notebook/assets/js/118.d987b8ec.js"><link rel="prefetch" href="/notebook/assets/js/119.3228c591.js"><link rel="prefetch" href="/notebook/assets/js/12.70ad555c.js"><link rel="prefetch" href="/notebook/assets/js/120.6eabe999.js"><link rel="prefetch" href="/notebook/assets/js/121.690a1434.js"><link rel="prefetch" href="/notebook/assets/js/122.1ea0585c.js"><link rel="prefetch" href="/notebook/assets/js/123.080ce91b.js"><link rel="prefetch" href="/notebook/assets/js/124.aafaca19.js"><link rel="prefetch" href="/notebook/assets/js/125.88a77240.js"><link rel="prefetch" href="/notebook/assets/js/126.c89543c1.js"><link rel="prefetch" href="/notebook/assets/js/127.846ad094.js"><link rel="prefetch" href="/notebook/assets/js/128.663b8ca6.js"><link rel="prefetch" href="/notebook/assets/js/129.5030a1b6.js"><link rel="prefetch" href="/notebook/assets/js/13.dcec235f.js"><link rel="prefetch" href="/notebook/assets/js/130.50d05092.js"><link rel="prefetch" href="/notebook/assets/js/131.92790e24.js"><link rel="prefetch" href="/notebook/assets/js/132.8551a1f0.js"><link rel="prefetch" href="/notebook/assets/js/133.4596d152.js"><link rel="prefetch" href="/notebook/assets/js/134.eec455bb.js"><link rel="prefetch" href="/notebook/assets/js/135.df697c1d.js"><link rel="prefetch" href="/notebook/assets/js/136.5311ccfd.js"><link rel="prefetch" href="/notebook/assets/js/137.b4699437.js"><link rel="prefetch" href="/notebook/assets/js/138.d95b906a.js"><link rel="prefetch" href="/notebook/assets/js/139.96475758.js"><link rel="prefetch" href="/notebook/assets/js/14.7599f488.js"><link rel="prefetch" href="/notebook/assets/js/140.900ccd18.js"><link rel="prefetch" href="/notebook/assets/js/141.76084cbe.js"><link rel="prefetch" href="/notebook/assets/js/142.6b6a25ff.js"><link rel="prefetch" href="/notebook/assets/js/143.d6fcb782.js"><link rel="prefetch" href="/notebook/assets/js/144.4ba4cb3b.js"><link rel="prefetch" href="/notebook/assets/js/145.1d7ed115.js"><link rel="prefetch" href="/notebook/assets/js/146.4ef35055.js"><link rel="prefetch" href="/notebook/assets/js/147.608a0e17.js"><link rel="prefetch" href="/notebook/assets/js/148.0e07035a.js"><link rel="prefetch" href="/notebook/assets/js/149.74f6ed82.js"><link rel="prefetch" href="/notebook/assets/js/15.e3accbe9.js"><link rel="prefetch" href="/notebook/assets/js/150.edfab1a0.js"><link rel="prefetch" href="/notebook/assets/js/151.44c43916.js"><link rel="prefetch" href="/notebook/assets/js/152.a6bbb2bb.js"><link rel="prefetch" href="/notebook/assets/js/153.896ecd2e.js"><link rel="prefetch" href="/notebook/assets/js/154.9d9888b7.js"><link rel="prefetch" href="/notebook/assets/js/155.0bf19dce.js"><link rel="prefetch" href="/notebook/assets/js/156.827990e4.js"><link rel="prefetch" href="/notebook/assets/js/157.ac99d1c4.js"><link rel="prefetch" href="/notebook/assets/js/158.3956d464.js"><link rel="prefetch" href="/notebook/assets/js/159.2a590ce5.js"><link rel="prefetch" href="/notebook/assets/js/16.625a9414.js"><link rel="prefetch" href="/notebook/assets/js/160.e28c9388.js"><link rel="prefetch" href="/notebook/assets/js/161.ddd91662.js"><link rel="prefetch" href="/notebook/assets/js/162.ab62bfae.js"><link rel="prefetch" href="/notebook/assets/js/163.abbc5b04.js"><link rel="prefetch" href="/notebook/assets/js/164.bf31117f.js"><link rel="prefetch" href="/notebook/assets/js/165.dd560c76.js"><link rel="prefetch" href="/notebook/assets/js/166.d64a1496.js"><link rel="prefetch" href="/notebook/assets/js/167.8924a84c.js"><link rel="prefetch" href="/notebook/assets/js/168.762be210.js"><link rel="prefetch" href="/notebook/assets/js/169.02347ce6.js"><link rel="prefetch" href="/notebook/assets/js/17.e052aba2.js"><link rel="prefetch" href="/notebook/assets/js/170.344bc81f.js"><link rel="prefetch" href="/notebook/assets/js/171.0b06bad0.js"><link rel="prefetch" href="/notebook/assets/js/172.957ba2f2.js"><link rel="prefetch" href="/notebook/assets/js/173.7eefcee6.js"><link rel="prefetch" href="/notebook/assets/js/174.5963c9e8.js"><link rel="prefetch" href="/notebook/assets/js/175.f4bd19b3.js"><link rel="prefetch" href="/notebook/assets/js/176.e5aae9b8.js"><link rel="prefetch" href="/notebook/assets/js/177.753a7150.js"><link rel="prefetch" href="/notebook/assets/js/178.700ebe0a.js"><link rel="prefetch" href="/notebook/assets/js/179.33b10ecd.js"><link rel="prefetch" href="/notebook/assets/js/18.cd7552b2.js"><link rel="prefetch" href="/notebook/assets/js/180.39eb3869.js"><link rel="prefetch" href="/notebook/assets/js/20.3f76f59e.js"><link rel="prefetch" href="/notebook/assets/js/21.1c512f1e.js"><link rel="prefetch" href="/notebook/assets/js/22.0869447f.js"><link rel="prefetch" href="/notebook/assets/js/23.0bf54841.js"><link rel="prefetch" href="/notebook/assets/js/24.9b5123a4.js"><link rel="prefetch" href="/notebook/assets/js/25.76caf35f.js"><link rel="prefetch" href="/notebook/assets/js/26.0fd928ea.js"><link rel="prefetch" href="/notebook/assets/js/27.21644d61.js"><link rel="prefetch" href="/notebook/assets/js/28.ffbc80a1.js"><link rel="prefetch" href="/notebook/assets/js/29.4941c79b.js"><link rel="prefetch" href="/notebook/assets/js/3.6b735fd9.js"><link rel="prefetch" href="/notebook/assets/js/30.f78b69cf.js"><link rel="prefetch" href="/notebook/assets/js/31.57da179b.js"><link rel="prefetch" href="/notebook/assets/js/32.f4f294a3.js"><link rel="prefetch" href="/notebook/assets/js/33.9d4ed1a3.js"><link rel="prefetch" href="/notebook/assets/js/34.8df29565.js"><link rel="prefetch" href="/notebook/assets/js/35.d1683813.js"><link rel="prefetch" href="/notebook/assets/js/36.ab5fb31e.js"><link rel="prefetch" href="/notebook/assets/js/37.38881015.js"><link rel="prefetch" href="/notebook/assets/js/38.4fba4911.js"><link rel="prefetch" href="/notebook/assets/js/39.e2732399.js"><link rel="prefetch" href="/notebook/assets/js/4.15df75ff.js"><link rel="prefetch" href="/notebook/assets/js/40.46f89a35.js"><link rel="prefetch" href="/notebook/assets/js/41.32e84631.js"><link rel="prefetch" href="/notebook/assets/js/42.a120a61d.js"><link rel="prefetch" href="/notebook/assets/js/43.b8b3dea0.js"><link rel="prefetch" href="/notebook/assets/js/44.1324d90c.js"><link rel="prefetch" href="/notebook/assets/js/45.4522649e.js"><link rel="prefetch" href="/notebook/assets/js/46.599ac356.js"><link rel="prefetch" href="/notebook/assets/js/47.83af9820.js"><link rel="prefetch" href="/notebook/assets/js/48.56b22dd4.js"><link rel="prefetch" href="/notebook/assets/js/49.5a59a9d9.js"><link rel="prefetch" href="/notebook/assets/js/5.e9546050.js"><link rel="prefetch" href="/notebook/assets/js/50.ce5c2e53.js"><link rel="prefetch" href="/notebook/assets/js/51.92e9d2a1.js"><link rel="prefetch" href="/notebook/assets/js/52.b2729120.js"><link rel="prefetch" href="/notebook/assets/js/53.48380f3b.js"><link rel="prefetch" href="/notebook/assets/js/54.c3d91512.js"><link rel="prefetch" href="/notebook/assets/js/55.5f30883f.js"><link rel="prefetch" href="/notebook/assets/js/56.2b2b9c59.js"><link rel="prefetch" href="/notebook/assets/js/57.d5256c84.js"><link rel="prefetch" href="/notebook/assets/js/58.9f8c9a60.js"><link rel="prefetch" href="/notebook/assets/js/59.2bc777df.js"><link rel="prefetch" href="/notebook/assets/js/6.8628b954.js"><link rel="prefetch" href="/notebook/assets/js/60.07b3a0bf.js"><link rel="prefetch" href="/notebook/assets/js/61.e0e63333.js"><link rel="prefetch" href="/notebook/assets/js/62.049ceef2.js"><link rel="prefetch" href="/notebook/assets/js/63.14826e2f.js"><link rel="prefetch" href="/notebook/assets/js/64.1edaf80b.js"><link rel="prefetch" href="/notebook/assets/js/65.cf738bf7.js"><link rel="prefetch" href="/notebook/assets/js/66.b6f64760.js"><link rel="prefetch" href="/notebook/assets/js/67.a48c2cc0.js"><link rel="prefetch" href="/notebook/assets/js/68.fe1893f5.js"><link rel="prefetch" href="/notebook/assets/js/69.a5e08e15.js"><link rel="prefetch" href="/notebook/assets/js/7.b2201f04.js"><link rel="prefetch" href="/notebook/assets/js/70.ec911aa1.js"><link rel="prefetch" href="/notebook/assets/js/71.f27185dd.js"><link rel="prefetch" href="/notebook/assets/js/72.474c1bd6.js"><link rel="prefetch" href="/notebook/assets/js/73.5ecba00d.js"><link rel="prefetch" href="/notebook/assets/js/74.3a0e8699.js"><link rel="prefetch" href="/notebook/assets/js/75.4beebb02.js"><link rel="prefetch" href="/notebook/assets/js/76.88eafca2.js"><link rel="prefetch" href="/notebook/assets/js/77.b48607cd.js"><link rel="prefetch" href="/notebook/assets/js/78.e09e23cb.js"><link rel="prefetch" href="/notebook/assets/js/79.47046879.js"><link rel="prefetch" href="/notebook/assets/js/8.954d4587.js"><link rel="prefetch" href="/notebook/assets/js/80.4d6aafb1.js"><link rel="prefetch" href="/notebook/assets/js/81.8ec9147f.js"><link rel="prefetch" href="/notebook/assets/js/82.f76d2e7f.js"><link rel="prefetch" href="/notebook/assets/js/83.596f0ca9.js"><link rel="prefetch" href="/notebook/assets/js/84.baccf8ec.js"><link rel="prefetch" href="/notebook/assets/js/85.eb8d9429.js"><link rel="prefetch" href="/notebook/assets/js/86.b963062c.js"><link rel="prefetch" href="/notebook/assets/js/87.6e9e5d18.js"><link rel="prefetch" href="/notebook/assets/js/88.8f8e98d5.js"><link rel="prefetch" href="/notebook/assets/js/89.65a000f9.js"><link rel="prefetch" href="/notebook/assets/js/9.d2e6b08c.js"><link rel="prefetch" href="/notebook/assets/js/90.ca547bf9.js"><link rel="prefetch" href="/notebook/assets/js/91.880afc80.js"><link rel="prefetch" href="/notebook/assets/js/92.a3f203b6.js"><link rel="prefetch" href="/notebook/assets/js/93.bafee662.js"><link rel="prefetch" href="/notebook/assets/js/94.a2ff30a5.js"><link rel="prefetch" href="/notebook/assets/js/95.54e66985.js"><link rel="prefetch" href="/notebook/assets/js/96.e2621b07.js"><link rel="prefetch" href="/notebook/assets/js/97.b9590b19.js"><link rel="prefetch" href="/notebook/assets/js/98.8ee8814d.js"><link rel="prefetch" href="/notebook/assets/js/99.a1f6adb4.js">
    <link rel="stylesheet" href="/notebook/assets/css/0.styles.2780c180.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/notebook/" class="home-link router-link-active"><img src="/notebook/image/PWA/icon-512x512.png" alt="Blog Note" class="logo"> <span class="site-name can-hide">Blog Note</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/notebook/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计科基础" class="dropdown-title"><span class="title">计科基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notebook/note/base/dataStructure/" class="nav-link">
  数据结构
</a></li><li class="dropdown-item"><!----> <a href="/notebook/note/base/algorithm/" class="nav-link">
  算法
</a></li><li class="dropdown-item"><!----> <a href="/notebook/note/base/designPattern/" class="nav-link">
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/notebook/note/base/network/" class="nav-link">
  网络
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="语言" class="dropdown-title"><span class="title">语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notebook/note/frontend/" class="nav-link router-link-active">
  前端
</a></li><li class="dropdown-item"><!----> <a href="/notebook/note/frame/" class="nav-link">
  框架
</a></li><li class="dropdown-item"><!----> <a href="/notebook/note/app/" class="nav-link">
  移动端
</a></li><li class="dropdown-item"><!----> <a href="/notebook/note/backend/" class="nav-link">
  后端
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="杂记" class="dropdown-title"><span class="title">杂记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notebook/note/develop/" class="nav-link">
  遇到的坑
</a></li><li class="dropdown-item"><!----> <a href="/notebook/note/tools/" class="nav-link">
  工具
</a></li><li class="dropdown-item"><!----> <a href="/notebook/note/others/" class="nav-link">
  其他
</a></li></ul></div></div> <a href="https://github.com/c-yi/notebook" target="_blank" rel="noopener noreferrer" class="repo-link">
    github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/notebook/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计科基础" class="dropdown-title"><span class="title">计科基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notebook/note/base/dataStructure/" class="nav-link">
  数据结构
</a></li><li class="dropdown-item"><!----> <a href="/notebook/note/base/algorithm/" class="nav-link">
  算法
</a></li><li class="dropdown-item"><!----> <a href="/notebook/note/base/designPattern/" class="nav-link">
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/notebook/note/base/network/" class="nav-link">
  网络
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="语言" class="dropdown-title"><span class="title">语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notebook/note/frontend/" class="nav-link router-link-active">
  前端
</a></li><li class="dropdown-item"><!----> <a href="/notebook/note/frame/" class="nav-link">
  框架
</a></li><li class="dropdown-item"><!----> <a href="/notebook/note/app/" class="nav-link">
  移动端
</a></li><li class="dropdown-item"><!----> <a href="/notebook/note/backend/" class="nav-link">
  后端
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="杂记" class="dropdown-title"><span class="title">杂记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notebook/note/develop/" class="nav-link">
  遇到的坑
</a></li><li class="dropdown-item"><!----> <a href="/notebook/note/tools/" class="nav-link">
  工具
</a></li><li class="dropdown-item"><!----> <a href="/notebook/note/others/" class="nav-link">
  其他
</a></li></ul></div></div> <a href="https://github.com/c-yi/notebook" target="_blank" rel="noopener noreferrer" class="repo-link">
    github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JS</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notebook/note/frontend/JS/" class="sidebar-link">这是js的主页</a></li><li><a href="/notebook/note/frontend/JS/01_var let const.html" class="sidebar-link">var let const</a></li><li><a href="/notebook/note/frontend/JS/02_基础.html" class="sidebar-link">基础</a></li><li><a href="/notebook/note/frontend/JS/03_异步.html" class="sidebar-link">promise</a></li><li><a href="/notebook/note/frontend/JS/04_fileReader.html" class="sidebar-link">fileReader</a></li><li><a href="/notebook/note/frontend/JS/05_ES5之后.html" class="sidebar-link">ES5之后</a></li><li><a href="/notebook/note/frontend/JS/06_ajax.html" class="sidebar-link">原生ajax</a></li><li><a href="/notebook/note/frontend/JS/07_typescript.html" class="sidebar-link">typescript</a></li><li><a href="/notebook/note/frontend/JS/07_typescript小技巧.html" class="active sidebar-link">typescript 梳理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/note/frontend/JS/07_typescript小技巧.html#可索引类型" class="sidebar-link">可索引类型</a></li><li class="sidebar-sub-header"><a href="/notebook/note/frontend/JS/07_typescript小技巧.html#interface-和-type-关键字" class="sidebar-link">interface  和 type 关键字</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/note/frontend/JS/07_typescript小技巧.html#objects-functions" class="sidebar-link">Objects/Functions</a></li><li class="sidebar-sub-header"><a href="/notebook/note/frontend/JS/07_typescript小技巧.html#其他数据类型" class="sidebar-link">其他数据类型</a></li><li class="sidebar-sub-header"><a href="/notebook/note/frontend/JS/07_typescript小技巧.html#extend" class="sidebar-link">Extend</a></li><li class="sidebar-sub-header"><a href="/notebook/note/frontend/JS/07_typescript小技巧.html#implements" class="sidebar-link">implements</a></li><li class="sidebar-sub-header"><a href="/notebook/note/frontend/JS/07_typescript小技巧.html#声明合并" class="sidebar-link">声明合并</a></li><li class="sidebar-sub-header"><a href="/notebook/note/frontend/JS/07_typescript小技巧.html#only-interface-can" class="sidebar-link">only interface can</a></li></ul></li><li class="sidebar-sub-header"><a href="/notebook/note/frontend/JS/07_typescript小技巧.html#和-操作符" class="sidebar-link">&amp; 和 | 操作符</a></li><li class="sidebar-sub-header"><a href="/notebook/note/frontend/JS/07_typescript小技巧.html#交叉类型" class="sidebar-link">交叉类型</a></li><li class="sidebar-sub-header"><a href="/notebook/note/frontend/JS/07_typescript小技巧.html#extends" class="sidebar-link">extends</a></li><li class="sidebar-sub-header"><a href="/notebook/note/frontend/JS/07_typescript小技巧.html#keyof" class="sidebar-link">keyof</a></li><li class="sidebar-sub-header"><a href="/notebook/note/frontend/JS/07_typescript小技巧.html#泛型" class="sidebar-link">泛型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/note/frontend/JS/07_typescript小技巧.html#小试牛刀" class="sidebar-link">小试牛刀</a></li></ul></li><li class="sidebar-sub-header"><a href="/notebook/note/frontend/JS/07_typescript小技巧.html#infer" class="sidebar-link">infer</a></li><li class="sidebar-sub-header"><a href="/notebook/note/frontend/JS/07_typescript小技巧.html#工具泛型" class="sidebar-link">工具泛型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/note/frontend/JS/07_typescript小技巧.html#partial" class="sidebar-link">Partial</a></li><li class="sidebar-sub-header"><a href="/notebook/note/frontend/JS/07_typescript小技巧.html#required" class="sidebar-link">Required</a></li><li class="sidebar-sub-header"><a href="/notebook/note/frontend/JS/07_typescript小技巧.html#readonly" class="sidebar-link">Readonly</a></li><li class="sidebar-sub-header"><a href="/notebook/note/frontend/JS/07_typescript小技巧.html#record" class="sidebar-link">Record</a></li><li class="sidebar-sub-header"><a href="/notebook/note/frontend/JS/07_typescript小技巧.html#pick" class="sidebar-link">Pick</a></li><li class="sidebar-sub-header"><a href="/notebook/note/frontend/JS/07_typescript小技巧.html#exclude" class="sidebar-link">Exclude</a></li><li class="sidebar-sub-header"><a href="/notebook/note/frontend/JS/07_typescript小技巧.html#extract" class="sidebar-link">Extract</a></li><li class="sidebar-sub-header"><a href="/notebook/note/frontend/JS/07_typescript小技巧.html#omit" class="sidebar-link">Omit</a></li></ul></li><li class="sidebar-sub-header"><a href="/notebook/note/frontend/JS/07_typescript小技巧.html#类型断言" class="sidebar-link">类型断言</a></li><li class="sidebar-sub-header"><a href="/notebook/note/frontend/JS/07_typescript小技巧.html#函数重载" class="sidebar-link">函数重载</a></li></ul></li><li><a href="/notebook/note/frontend/JS/08_模块化.html" class="sidebar-link">模块化</a></li><li><a href="/notebook/note/frontend/JS/09_作用域.html" class="sidebar-link">作用域</a></li><li><a href="/notebook/note/frontend/JS/10_Https.html" class="sidebar-link">httpS 加密</a></li><li><a href="/notebook/note/frontend/JS/11_打印结果.html" class="sidebar-link">打印结果</a></li><li><a href="/notebook/note/frontend/JS/12_箭头函数与普通函数.html" class="sidebar-link">箭头函数与普通函数</a></li><li><a href="/notebook/note/frontend/JS/13_Http.html" class="sidebar-link">http</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HTML</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="typescript-梳理"><a href="#typescript-梳理" class="header-anchor">#</a> typescript 梳理</h1> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>转载自 <a href="https://mp.weixin.qq.com/s?__biz=Mzg5NDEyMzA2NQ==&amp;mid=2247484931&amp;idx=1&amp;sn=b44589b042d46796ec2505d4c67487d4&amp;chksm=c0252b55f752a2436f7f8bbd874d1533a6ce082186b2609191653b46334531a35e04de01b101&amp;mpshare=1&amp;scene=1&amp;srcid=&amp;sharer_sharetime=1585106081585&amp;sharer_shareid=7d8efc094107e3bbbbf76e0291a6d431&amp;key=f1cd74c6be685d9bdb12b713a6d11c3e378546c02bc196f3a289ff1d2bbb911af858081bd3852ead530a8bbe13fc1d8fdf42f9aecadd735451764d2bbfacd97604fa96d848f411fd95b4c98aa75c31b5&amp;ascene=1&amp;uin=MzE3OTEzODUxMA%3D%3D&amp;devicetype=Windows+10&amp;version=62080079&amp;lang=zh_CN&amp;exportkey=Az7fAZeaN%2BHSyWndV%2FeC1x0%3D&amp;pass_ticket=VLZsCB1%2B5lOFE3KcJLH%2B8h3dUXKkaX7P1RrOAKbwLIUaxiyEF3PMqoUnS0Jotkbu" target="_blank" rel="noopener noreferrer">小生方勤公众号<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
这是一个非常优秀的公众号,值得关注</p></div> <p>「但是为什么我都会写 ts 了，却看不懂别人的代码呢？」 这！就是入门与进阶之隔。也是本文的目的所在。</p> <p>首先推荐下 ts 的编译环境：typescriptlang.org</p> <h2 id="可索引类型"><a href="#可索引类型" class="header-anchor">#</a> 可索引类型</h2> <p>关于ts 的类型应该不用过多介绍了，「多用多记」 即可。介绍下关于 ts 的可索引类型。准确的说，这应该属于接口的一类范畴。说到接口（interface），我们都知道 <strong>「ts 的核心原则之一就是对值所具有的结构进行类型检查。」</strong> 它有时被称之为“鸭式辩型法”或“结构性子类型”。而接口就是其中的契约。可索引类型也是接口的一种表现形式，非常实用！</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">StringArray</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>index<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> myArray<span class="token operator">:</span> StringArray<span class="token punctuation">;</span>
myArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;Bob&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Fred&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> myStr<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> myArray<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>上面例子里，我们定义了<code>StringArray</code>接口，它具有索引签名。这个索引签名表示了当用number去索引<code>StringArray</code>时会得到string类型的返回值。Typescript支持两种索引签名：字符串和数字。可以同时使用两种类型的索引，但是数字索引的返回值必须是字符串索引返回值类型的子类型。</p> <p>这是因为当使用<code>number</code>来索引时，JavaScript会将它转换成<code>string</code>然后再去索引对象。也就是说用100（一个number）去索引等同于使用&quot;100&quot;（一个string）去索引，因此两者需要保持一致。</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    breed<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 错误：使用数值型的字符串索引，有时会得到完全不同的Animal!</span>
<span class="token keyword">interface</span> <span class="token class-name">NotOkay</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token operator">:</span> Animal<span class="token punctuation">;</span>
    <span class="token punctuation">[</span>x<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> Dog<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>下面的例子里，name的类型与字符串索引类型不匹配，所以类型检查器给出一个错误提示：</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">NumberDictionary</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>index<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  length<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>    <span class="token comment">// 可以，length是number类型</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>       <span class="token comment">// 错误，`name`的类型与索引类型返回值的类型不匹配</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>当然，我们也可以将索引签名设置为只读，这样就可以防止给索引赋值</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">ReadonlyStringArray</span> <span class="token punctuation">{</span>
    <span class="token keyword">readonly</span> <span class="token punctuation">[</span>index<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> myArray<span class="token operator">:</span> ReadonlyStringArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;Alice&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Bob&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
myArray<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;Mallory&quot;</span><span class="token punctuation">;</span> <span class="token comment">// error!</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="interface-和-type-关键字"><a href="#interface-和-type-关键字" class="header-anchor">#</a> interface  和 type 关键字</h2> <p>stackoverflow 上的一个高赞回答还是非常赞的。typescript-interfaces-vs-types</p> <p><code>interface</code> 和 <code>type</code> 两个关键字的含义和功能都非常的接近。这里我们罗列下这两个主要的区别：</p> <p><strong>interface：</strong></p> <ul><li>同名的 interface 自动聚合，也可以跟同名的 class 自动聚合</li> <li>只能表示 object、class、function 类型</li></ul> <p><strong>type:</strong></p> <ul><li>不仅仅能够表示 object、class、function</li> <li>不能重名（自然不存在同名聚合了），扩展已有的 type 需要创建新 type</li> <li>支持复杂的类型操作</li></ul> <p>举例说明下上面罗列的几点：</p> <h3 id="objects-functions"><a href="#objects-functions" class="header-anchor">#</a> Objects/Functions</h3> <p>都可以用来表示 <code>Object</code> 或者 <code>Function</code> ，只是语法上有些不同而已</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Point</span><span class="token punctuation">{</span>
  x<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span>
  y<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">SetPoint</span><span class="token punctuation">{</span>
  <span class="token punctuation">(</span>x<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">,</span>y<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> Point <span class="token operator">=</span> <span class="token punctuation">{</span>
  x<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span>
  y<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token function-variable function">SetPoint</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">,</span>y<span class="token operator">:</span><span class="token builtin">number</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token keyword">void</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="其他数据类型"><a href="#其他数据类型" class="header-anchor">#</a> 其他数据类型</h3> <p>与 <code>interface</code> 不同，<code>type</code> 还可以用来标书其他的类型，比如基本数据类型、元素、并集等</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> Name <span class="token operator">=</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> PartialPointX <span class="token operator">=</span> <span class="token punctuation">{</span>x<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> PartialPointY <span class="token operator">=</span> <span class="token punctuation">{</span>y<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> PartialPoint <span class="token operator">=</span> PartialPointX <span class="token operator">|</span> PartialPointY<span class="token punctuation">;</span>

<span class="token keyword">type</span> Data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">,</span><span class="token builtin">string</span><span class="token punctuation">,</span><span class="token builtin">boolean</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="extend"><a href="#extend" class="header-anchor">#</a> Extend</h3> <p>都可以被继承，但是语法上会有些不同。另外需要注意的是，<strong>「interface 和 type 彼此并不互斥」</strong>。</p> <blockquote><p>interface extends interface</p></blockquote> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">PartialPointX</span> <span class="token punctuation">{</span>x<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">interface</span> <span class="token class-name">Point</span> <span class="token keyword">extends</span> <span class="token class-name">PartialPointX</span> <span class="token punctuation">{</span>y<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>type extends type</p></blockquote> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> PartialPointX <span class="token operator">=</span> <span class="token punctuation">{</span>x<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> Point <span class="token operator">=</span> PartialPointX <span class="token operator">&amp;</span> <span class="token punctuation">{</span>y<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>interface extends type</p></blockquote> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> PartialPointX <span class="token operator">=</span> <span class="token punctuation">{</span>x<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">interface</span> <span class="token class-name">Point</span> <span class="token keyword">extends</span> <span class="token class-name">PartialPointX</span> <span class="token punctuation">{</span>y<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>type extends interface</p></blockquote> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">ParticalPointX</span> <span class="token operator">=</span> <span class="token punctuation">{</span>x<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> Point <span class="token operator">=</span> ParticalPointX <span class="token operator">&amp;</span> <span class="token punctuation">{</span>y<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="implements"><a href="#implements" class="header-anchor">#</a> implements</h3> <p>一个类，可以以完全相同的形式去实现<code>interface</code> 或者 <code>type</code>。但是，类和接口都被视为<strong>静态蓝图（static blueprints）</strong>，因此，他们不能实现/继承 联合类型的 <code>type</code></p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
  x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">SomePoint</span> <span class="token keyword">implements</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
  x<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">;</span>
  y<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> Point2 <span class="token operator">=</span> <span class="token punctuation">{</span>
  x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SomePoint2</span> <span class="token keyword">implements</span> <span class="token class-name">Point2</span> <span class="token punctuation">{</span>
  x<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">;</span>
  y<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> PartialPoint <span class="token operator">=</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token operator">|</span> <span class="token punctuation">{</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// FIXME: can not implement a union type</span>
<span class="token keyword">class</span> <span class="token class-name">SomePartialPoint</span> <span class="token keyword">implements</span> <span class="token class-name">PartialPoint</span> <span class="token punctuation">{</span>
  x<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">;</span>
  y<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h3 id="声明合并"><a href="#声明合并" class="header-anchor">#</a> 声明合并</h3> <p>和 <code>type</code> 不同，<code>interface</code> 可以被重复定义，并且会被自动聚合</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>x<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">interface</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>y<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> point<span class="token operator">:</span>Pint <span class="token operator">=</span> <span class="token punctuation">{</span>x<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>y<span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="only-interface-can"><a href="#only-interface-can" class="header-anchor">#</a> only interface can</h3> <p>在实际开发中，有的时候也会遇到 <code>interface</code> 能够表达，但是 <code>type</code> 做不到的情况：<strong>「给函数挂载属性」</strong></p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">FuncWithAttachment</span> <span class="token punctuation">{</span>
  <span class="token punctuation">(</span>param<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
  someProperty<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> testFunc<span class="token operator">:</span> <span class="token function-variable function">FuncWithAttachment</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">param<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> param<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;Neal&quot;</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">testFunc</span><span class="token punctuation">(</span><span class="token string">&quot;Nealyang&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 有类型提醒</span>
testFunc<span class="token punctuation">.</span>someProperty <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="和-操作符"><a href="#和-操作符" class="header-anchor">#</a> &amp; 和 | 操作符</h2> <p>这里我们需要区分，<strong>|</strong> 和 <strong>&amp;</strong> <strong>并非位运算符</strong>。我们可以理解为**&amp;<strong>表示必须同时满足所有的契约。</strong>|**表示可以只满足一个契约。</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">IA</span><span class="token punctuation">{</span>
  a<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">;</span>
  b<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token constant">TB</span><span class="token punctuation">{</span>
  b<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span>
  c<span class="token operator">:</span><span class="token builtin">number</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token constant">TC</span> <span class="token operator">=</span> <span class="token constant">TA</span> <span class="token operator">|</span> <span class="token constant">TB</span><span class="token punctuation">;</span><span class="token comment">// TC 的 key，包含 ab 或者 bc 即可，当然，包含 bac 也可以</span>
<span class="token keyword">type</span> <span class="token constant">TD</span> <span class="token operator">=</span> <span class="token constant">TA</span> <span class="token operator">&amp;</span> <span class="token constant">TB</span><span class="token punctuation">;</span><span class="token comment">// TD 的 可以,必须包含 abc</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="交叉类型"><a href="#交叉类型" class="header-anchor">#</a> 交叉类型</h2> <p>交叉类型，我们可以理解为合并。其实就是**「将多个类型合并为一个类型」**。</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code>Man <span class="token operator">&amp;</span> WoMan
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>同时是 Man 和 Woman</li> <li>同时拥有 Man 和 Woman 这两种类型的成员</li></ul> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">ObjectConstructor</span><span class="token punctuation">{</span>
  assign<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span><span class="token constant">U</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>target<span class="token operator">:</span><span class="token constant">T</span><span class="token punctuation">,</span>source<span class="token operator">:</span><span class="token constant">U</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token constant">T</span> <span class="token operator">&amp;</span> <span class="token constant">U</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>以上是 ts 的源码实现，下面我们再看一个我们日常使用中的例子</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">A</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token function-variable function">sayName</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token operator">:</span><span class="token builtin">string</span></span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token keyword">void</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">B</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">;</span>
  gender<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token function-variable function">sayGender</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token parameter">gender<span class="token operator">:</span><span class="token builtin">string</span></span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token keyword">void</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> a<span class="token operator">:</span><span class="token constant">A</span><span class="token operator">&amp;</span><span class="token constant">B</span><span class="token punctuation">;</span>

<span class="token comment">// 这是合法的</span>
a<span class="token punctuation">.</span>age
a<span class="token punctuation">.</span>sayGender
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>注意：16446</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token constant">T</span> <span class="token operator">&amp;</span> <span class="token builtin">never</span> <span class="token operator">=</span> <span class="token builtin">never</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="extends"><a href="#extends" class="header-anchor">#</a> extends</h2> <p><code>extends</code> 即为扩展、继承。在 ts 中，<strong>「extends 关键字既可以来扩展已有的类型，也可以对类型进行条件限定」</strong>。在扩展已有类型时，不可以进行类型冲突的覆盖操作。例如，基类型中键<code>a</code>为<code>string</code>，在扩展出的类型中无法将其改为<code>number</code>。</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> num <span class="token operator">=</span> <span class="token punctuation">{</span>
  num<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">IStrNum</span> <span class="token keyword">extends</span> <span class="token class-name">num</span> <span class="token punctuation">{</span>
  str<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 与上面等价</span>
<span class="token keyword">type</span> TStrNum <span class="token operator">=</span> <span class="token constant">A</span> <span class="token operator">&amp;</span> <span class="token punctuation">{</span>
  str<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>在 ts 中，我们还可以通过条件类型进行一些三目操作：<code>T extends U ? X : Y</code></p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> IsEqualType<span class="token operator">&lt;</span><span class="token constant">A</span> <span class="token punctuation">,</span> <span class="token constant">B</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token constant">A</span> <span class="token keyword">extends</span> <span class="token class-name">B</span> <span class="token operator">?</span> <span class="token punctuation">(</span><span class="token constant">B</span> <span class="token keyword">extends</span> <span class="token class-name">A</span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> NumberEqualsToString <span class="token operator">=</span> IsEqualType<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token punctuation">,</span><span class="token builtin">string</span><span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token keyword">type</span> NumberEqualsToNumber <span class="token operator">=</span> IsEqualType<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token punctuation">,</span><span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="keyof"><a href="#keyof" class="header-anchor">#</a> keyof</h2> <p><strong>「keyof 是索引类型操作符」</strong>。用于获取一个“常量”的类型,这里的“常量”是指任何可以在编译期确定的东西，例如<code>const</code>、<code>function</code>、<code>class</code>等。它是从 <strong>「实际运行代码」</strong> 通向 <strong>「类型系统」</strong> 的单行道。理论上，任何运行时的符号名想要为类型系统所用，都要加上 typeof。</p> <p>在使用<code>class</code>时，<code>class</code>名表示实例类型，<code>typeof class</code>表示 <code>class</code>本身类型。是的，这个关键字和 js 的 <code>typeof</code> 关键字重名了 。</p> <p>假设 T 是一个类型，那么<code>keyof T</code>产生的类型就是 T 的属性名称字符串字面量类型构成的联合类型(联合类型比较简单，和交叉类型对立相似，这里就不做介绍了)。</p> <p><strong>「注意！上述的 T 是数据类型，并非数据本身」。</strong></p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">IQZQD</span><span class="token punctuation">{</span>
    cnName<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">;</span>
    age<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span>
    author<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> ant <span class="token operator">=</span> <span class="token keyword">keyof</span> <span class="token constant">IQZQD</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>在 vscode 上，我们可以看到 ts 推断出来的 ant：</p> <p><img src="data:image/png;base64,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" alt="推断声明"></p> <p>注意，如果 T 是带有字符串索引的类型，那么<code>keyof T</code>是 <code>string</code>或者<code>number</code>类型。</p> <p>索引签名参数类型必须为 &quot;string&quot; 或 &quot;number&quot;</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Map</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//T[U]是索引访问操作符;U是一个属性名称。</span>
<span class="token keyword">let</span> keys<span class="token operator">:</span> <span class="token keyword">keyof</span> Map<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">//string | number</span>
<span class="token keyword">let</span> value<span class="token operator">:</span> Map<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token string">'antzone'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//number</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="泛型"><a href="#泛型" class="header-anchor">#</a> 泛型</h2> <p>泛型可能是对于前端同学来说理解起来有点困难的知识点了。通常我们说，泛型就是指定一个表示类型的变量，用它来代替某个实际的类型用于编程，而后再通过实际运行或推导的类型来对其进行替换，以达到一段使用泛型程序可以实际适应不同类型的目的。说白了，「<strong>泛型就是不预先确定的数据类型，具体的类型在使用的时候再确定的一种类型约束规范」。</strong></p> <p>泛型可以应用于 <code>function</code>、<code>interface</code>、<code>type</code> 或者 <code>class</code> 中。但是注意，<strong>「泛型不能应用于类的静态成员」</strong></p> <p>几个简单的例子，先感受下泛型</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">function</span> log<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 两种调用方式</span>
log<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">',b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">',b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Nealyang'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>泛型类型、泛型接口</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> Log <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token operator">:</span> <span class="token constant">T</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token constant">T</span>
<span class="token keyword">let</span> myLog<span class="token operator">:</span> Log <span class="token operator">=</span> log

<span class="token keyword">interface</span> <span class="token class-name">Log</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> myLog<span class="token operator">:</span> Log<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span> <span class="token operator">=</span> log <span class="token comment">// 泛型约束了整个接口，实现的时候必须指定类型。如果不指定类型，就在定义的之后指定一个默认的类型</span>
<span class="token function">myLog</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>「我们也可以把泛型变量理解为函数的参数，只不过是另一个维度的参数，是代表类型而不是代表值的参数。」</strong></p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Log</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// 泛型不能应用于类的静态成员</span>
    <span class="token function">run</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token operator">:</span> <span class="token constant">T</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
        <span class="token keyword">return</span> value
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> log1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Log</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//实例化的时候可以显示的传入泛型的类型</span>
log1<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> log2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Log</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
log2<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">//也可以不传入类型参数，当不指定的时候，value 的值就可以是任意的值</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>类型约束，需预定义一个接口</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Length</span> <span class="token punctuation">{</span>
    length<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> logAdvance<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">Length</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> value<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 输入的参数不管是什么类型，都必须具有 length 属性</span>
<span class="token function">logAdvance</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token function">logAdvance</span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">)</span>
<span class="token function">logAdvance</span><span class="token punctuation">(</span><span class="token punctuation">{</span> length<span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>泛型的好处：</p> <ul><li><p>函数和类可以轻松的支持多种类型，增强程序的扩展性</p></li> <li><p>不必写多条函数重载，冗长的联合类型声明，增强代码的可读性</p></li> <li><p>灵活控制类型之间的约束</p></li></ul> <p>泛型，在 ts 内部也都是非常常用的，尤其是对于容器类非常常用。而对于我们，还是要多使用，多思考的，这样才会有更加深刻的体会。同时也对塑造我们类型思维非常的有帮助。</p> <h3 id="小试牛刀"><a href="#小试牛刀" class="header-anchor">#</a> 小试牛刀</h3> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">function</span> pluck<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token class-name">keyof</span> <span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>o<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> names<span class="token operator">:</span> <span class="token constant">K</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> names<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">n</span> <span class="token operator">=&gt;</span> o<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> person<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'Jarid'</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">35</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> strings<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">pluck</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[&quot;Jarid&quot;, &quot;Jarid&quot;, &quot;Jarid&quot;]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>所谓的小试牛刀，就是结合上面我们说的那几个点，分析下<code>pluck</code>方法的意思</p> <ul><li><code>&lt;T, K extends keyof T&gt;</code>约束了这是一个泛型函数
<ul><li><code>keyof T</code> 就是取 <code>T</code> 中的所有的常量 <code>key</code>（这个例子的调用中）,即为：<code>&quot;name&quot; | &quot;age&quot;</code></li> <li><code>K extends keyof Person</code> 即为 <code>K</code> 是 <code>&quot;name&quot; or &quot;age&quot;</code></li></ul></li> <li>结合以上泛型解释，再看形参
<ul><li><code>K[]</code> 即为 只能包含<code>&quot;name&quot;</code> or <code>&quot;age&quot;</code>的数组</li></ul></li> <li>再看返回值
<ul><li><code>T[K][]</code> 后面的<code>[]</code>是数组的意思。而 <code>T[K]</code>就是去对象的 T 下的<code>key</code>: <code>K</code>的</li></ul></li></ul> <h2 id="infer"><a href="#infer" class="header-anchor">#</a> infer</h2> <p>infer 关键字最早出现在 PR 里面，<strong>「表示在 extends 条件语句中待推断的类型变量」</strong></p> <p>是在 ts2.8 引入的，在条件判断语句中，该关键字用于**「替换手动获取类型」**。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>type PramType&lt;T&gt; = T extends (param : infer p) =&gt; any ? p : T;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在上面的条件语句中，<code>infer P</code> 表示待推断的函数参数，如果<code>T</code>能赋值给<code>(param : infer p) =&gt; any</code>,则结果是<code>(param: infer P) =&gt; any</code>类型中的参数 <code>P</code>,否则为<code>T</code>.</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">INealyang</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span><span class="token string">'Nealyang'</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span><span class="token string">'25'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token function-variable function">Func</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">user<span class="token operator">:</span>INealyang</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token keyword">void</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> Param <span class="token operator">=</span> ParamType<span class="token operator">&lt;</span>Func<span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// Param = INealyang</span>
<span class="token keyword">type</span> Test <span class="token operator">=</span> ParamType<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// string</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="工具泛型"><a href="#工具泛型" class="header-anchor">#</a> 工具泛型</h2> <p>所谓的工具泛型，其实就是泛型的一些语法糖的实现。完全也是可以自己的写的。我们也可以在<code>lib.d.ts</code>中找到他们的定义</p> <h3 id="partial"><a href="#partial" class="header-anchor">#</a> Partial</h3> <p><code>Partial</code>的作用就是将传入的属性变为可选。</p> <p>由于 <code>keyof</code> 关键字已经介绍了。其实就是可以用来取得一个对象接口的所有 key 值。在介绍 <code>Partial</code> 之前，我们再介绍下 <code>in</code> 操作符:</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> Keys <span class="token operator">=</span> <span class="token string">&quot;a&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;b&quot;</span>
<span class="token keyword">type</span> Obj <span class="token operator">=</span>  <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>p <span class="token keyword">in</span> Keys<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span>
<span class="token punctuation">}</span> <span class="token comment">// -&gt; { a: any, b: any }</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>然后再看 Partial 的实现：</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> Partial<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">?</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>翻译一下就是<code>keyof T</code> 拿到 <code>T</code> 所有属性名, 然后 <code>in</code> 进行遍历, 将值赋给 <code>P</code>, 最后 <code>T[P]</code> 取得相应属性的值,然后配合<code>?:</code>改为可选。</p> <h3 id="required"><a href="#required" class="header-anchor">#</a> Required</h3> <p><code>Required</code> 的作用是将传入的属性变为必选项, 源码如下</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> Required<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">?</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="readonly"><a href="#readonly" class="header-anchor">#</a> Readonly</h3> <p>该类型可以将 <code>K</code> 中所有的属性的值转化为 <code>T</code> 类型，源码实现如下：</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> Readonly<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token keyword">readonly</span> <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="record"><a href="#record" class="header-anchor">#</a> Record</h3> <p>该类型可以将 <code>K</code> 中所有的属性的值转化为 <code>T</code> 类型，源码实现如下：</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">/**
 * Construct a type with a set of properties K of type T
 */</span>
<span class="token keyword">type</span> Record<span class="token operator">&lt;</span><span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token class-name">keyof</span> <span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token constant">K</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>可以根据 K 中的所有可能值来设置 key，以及 value 的类型，举个例子：</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token constant">T11</span> <span class="token operator">=</span> Record<span class="token operator">&lt;</span><span class="token string">'a'</span> <span class="token operator">|</span> <span class="token string">'b'</span> <span class="token operator">|</span> <span class="token string">'c'</span><span class="token punctuation">,</span> Person<span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// -&gt; { a: Person; b: Person; c: Person; }</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="pick"><a href="#pick" class="header-anchor">#</a> Pick</h3> <p>可以根据 <code>K</code> 中的所有可能值来设置 <code>key</code>，以及 <code>value</code> 的类型，举个例子：</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">/**
 * From T, pick a set of properties whose keys are in the union K
 */</span>
<span class="token keyword">type</span> Pick<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token class-name">keyof</span> <span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token constant">K</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="exclude"><a href="#exclude" class="header-anchor">#</a> Exclude</h3> <p>Exclude 将某个类型中属于另一个的类型移除掉。</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">/**
 * Exclude from T those types that are assignable to U
 */</span>
<span class="token keyword">type</span> Exclude<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">U</span> <span class="token operator">?</span> <span class="token builtin">never</span> <span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>以上语句的意思就是 如果 T 能赋值给 U 类型的话，那么就会返回 never 类型，否则返回 T，最终结果是将 T 中的某些属于 U 的类型移除掉</p> <p>举个栗子：</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token constant">T00</span> <span class="token operator">=</span> Exclude<span class="token operator">&lt;</span><span class="token string">'a'</span> <span class="token operator">|</span> <span class="token string">'b'</span> <span class="token operator">|</span> <span class="token string">'c'</span> <span class="token operator">|</span> <span class="token string">'d'</span><span class="token punctuation">,</span> <span class="token string">'a'</span> <span class="token operator">|</span> <span class="token string">'c'</span> <span class="token operator">|</span> <span class="token string">'f'</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>  <span class="token comment">// -&gt; 'b' | 'd'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>可以看到 T 是<code>'a' | 'b' | 'c' | 'd'</code>，然后 U 是<code>'a' | 'c' | 'f'</code>，返回的新类型就可以将 U 中的类型给移除掉，也就是<code>'b' | 'd'</code>了。</p> <h3 id="extract"><a href="#extract" class="header-anchor">#</a> Extract</h3> <p>Extract 的作用是提取出 T 包含在 U 中的元素，换种更加贴近语义的说法就是从 T 中提取出 U，源码如下：</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">/**
 * Extract from T those types that are assignable to U
 */</span>
<span class="token keyword">type</span> Extract<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">U</span> <span class="token operator">?</span> <span class="token constant">T</span> <span class="token operator">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Demo:</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token constant">T01</span> <span class="token operator">=</span> Extract<span class="token operator">&lt;</span><span class="token string">'a'</span> <span class="token operator">|</span> <span class="token string">'b'</span> <span class="token operator">|</span> <span class="token string">'c'</span> <span class="token operator">|</span> <span class="token string">'d'</span><span class="token punctuation">,</span> <span class="token string">'a'</span> <span class="token operator">|</span> <span class="token string">'c'</span> <span class="token operator">|</span> <span class="token string">'f'</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>  <span class="token comment">// -&gt; 'a' | 'c'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="omit"><a href="#omit" class="header-anchor">#</a> Omit</h3> <p>Pick 和 Exclude 进行组合, 实现忽略对象某些属性功能, 源码如下:</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">/**
 * Construct a type with the properties of T except for those in type K.
 */</span>
<span class="token keyword">type</span> Omit<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token class-name">keyof</span> <span class="token builtin">any</span><span class="token operator">&gt;</span> <span class="token operator">=</span> Pick<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> Exclude<span class="token operator">&lt;</span><span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Demo:</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// 使用</span>
<span class="token keyword">type</span> Foo <span class="token operator">=</span> Omit<span class="token operator">&lt;</span><span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token operator">&gt;</span> <span class="token comment">// -&gt; { age: number }</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>更多工具泛型</p> <p>其实常用的工具泛型大概就是我上面介绍的几种。更多的工具泛型，可以通过查看 <code>lib.es5.d.ts</code>里面查看。</p> <h2 id="类型断言"><a href="#类型断言" class="header-anchor">#</a> 类型断言</h2> <p>断言这种东西还是少用。。。。不多对于初学者，估计最快熟练掌握的就是类型断言了。毕竟 「any 大法好」</p> <p>Typescript 允许我们覆盖它的推断（毕竟代码使我们自己写的），然后根据我们自定义的类型去分析它。这种机制，我们称之为 「类型断言」</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> nealyang <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
nealyang<span class="token punctuation">.</span>enName <span class="token operator">=</span> <span class="token string">'Nealyang'</span><span class="token punctuation">;</span> <span class="token comment">// Error: 'enName' 属性不存在于 ‘{}’</span>
nealyang<span class="token punctuation">.</span>cnName <span class="token operator">=</span> <span class="token string">'一凨'</span><span class="token punctuation">;</span> <span class="token comment">// Error: 'cnName' 属性不存在于 '{}'</span>
<span class="token keyword">interface</span> <span class="token class-name">INealyang</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  enName<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">;</span>
  cnName：<span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> nealyang <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword">as</span> INealyang<span class="token punctuation">;</span> <span class="token comment">// const nealyang = &lt;INealyang&gt;{};</span>
nealyang<span class="token punctuation">.</span>enName <span class="token operator">=</span> <span class="token string">'Nealyang'</span><span class="token punctuation">;</span>
nealyang<span class="token punctuation">.</span>cnName <span class="token operator">=</span> <span class="token string">'一凨'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>类型断言比较简单，其实就是“纠正”ts对类型的判断,当然，是不是纠正就看你自己的了。</p> <p>需要注意一下两点即可：</p> <ul><li>推荐类型断言的预发使用 as关键字，而不是&lt;&gt; ,防止歧义</li> <li>类型断言并非类型转换，类型断言发生在编译阶段。类型转换发生在运行时</li></ul> <h2 id="函数重载"><a href="#函数重载" class="header-anchor">#</a> 函数重载</h2> <p>在我刚开始使用 ts 的时候，我一直困惑。。。为什么会有函数重载这么鸡肋的写法，可选参数它不香么？</p> <p>慢慢你品
函数重载的基本语法：</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code>declarefunction <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token operator">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
declarefunction <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> resS <span class="token operator">=</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'Hello World'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// resS 被推断出类型为 string；</span>
<span class="token keyword">const</span> resN <span class="token operator">=</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token number">1234</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// resN 被推断出类型为 number;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>这里我们申明了两次？！为什么我不能判断类型或者可选参数呢？后来我遇到这么一个场景，</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

declarefunction <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">para<span class="token operator">:</span> User <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">,</span> flag<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span></span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>在这个 test 函数里，我们的本意可能是当传入参数 para 是 User 时，不传 flag，当传入 para 是 number 时，传入 flag。TypeScript 并不知道这些，当你传入 para 为 User 时，flag 同样允许你传入：</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'Jack'</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">666</span>
<span class="token punctuation">}</span>

<span class="token comment">// 没有报错，但是与想法违背</span>
<span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token function">test</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>使用函数重载能帮助我们实现：</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

declarefunction <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">para<span class="token operator">:</span> User</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
declarefunction <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">para<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> flag<span class="token operator">:</span> <span class="token builtin">boolean</span></span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'Jack'</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">666</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// bingo</span>
<span class="token comment">// Error: 参数不匹配</span>
<span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token function">test</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/c-yi/notebook/edit/master/docs/note/frontend/JS/07_typescript小技巧.md" target="_blank" rel="noopener noreferrer">帮助我们改善此页面！</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">最近更新于:</span> <span class="time">3/25/2020, 12:23:44 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/notebook/note/frontend/JS/07_typescript.html" class="prev">
        typescript
      </a></span> <span class="next"><a href="/notebook/note/frontend/JS/08_模块化.html">
        模块化
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----><div id="live2d-widget" class="live2d-widget-container" style="position:fixed;left:240px;bottom:0px;width:135px;height:300px;z-index:99999;opacity:1;pointer-events:none;"><canvas id="live2dcanvas" width="135" height="300" class="live2dcanvas" style="position:absolute;left:0px;top:0px;width:135px;height:300px;"></canvas></div></div></div>
    <script src="/notebook/assets/js/app.5b743b3d.js" defer></script><script src="/notebook/assets/js/2.5a190a38.js" defer></script><script src="/notebook/assets/js/19.44006621.js" defer></script><script src="/notebook/assets/js/10.996aadc4.js" defer></script>
  </body>
</html>
