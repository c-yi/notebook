# 三大范式

范式是一种数学理论,在关系型数据库上用来减少数据冗余

满足的范式越多,越符合高标准的表设计

范式一共6层,但是数据库的设计通常只要求满足三层即可,因为范式层数越高,冗余度越低,但是查询效率也越低

## 第一范式

>  概念 第一范式:1NF,数据字段设计时必须满足**原子性**

+ 1NF 要求字段数据是不需要拆分就可以直接应用 
+ 如果数据使用的时候需要进行拆分那么就违背1NF  

1、设计的字段是否在使用的时候还需要再拆分?

2、将数据拆分到最小单位(使用),然后设计成字段

3、满足1NF

## 第二范式

> 概念:第二范式:2NF,字段设计不能存在 **部分依赖**

+ 部分依赖:首先表存在复合主键,其次有的字段不是依赖整个主键,而只是依赖主键中的部分
+ 部分依赖解决:让所有非主属性都依赖一个候选关键字
  + 最简单方式:取消复合主键(一般选用逻辑主键替代,但是本质依然是复合主键做主),所有非主属性都
    依赖主属性(逻辑主键)
  + 正确方式:将部分依赖关系独立成表

## 第三范式

> 概念:第三范式:3NF,字段设计不能存在**传递依赖**

+ 传递依赖:字段某个非主属性不直接依赖主属性,而是通过依赖某个其他非主属性而传递到主属性之上

+ 传递依赖解决:让依赖非主属性的字段与依赖字段独立成表

## 逆规范化

逆规范化:为了提升数据查询的效率而刻意违背范式的规则

+ 逆规范化的目标是为了提升数据访问效率
+ 所谓逆规范化就是减少表之间的关联查询(效率降低),刻意增加数据冗余

1. 表中部分数据来源于其他表(通常只需要其他表的某个简单数据)
2. 当前表会被高频次查询
3. 数据表数据量很大
4. 考虑使用逆规范化

> 注意

+ 逆规范化只有在数据量大,查询效率低下的时候为了提升査询效率而牺牲磁盘空间的种做法
+ 逆规范化后数据表的设计必然是不完全符合范式要求的(2NF/3NF)

## 总结

1、范式是关系型数据库设计借鉴用来減少数据冗余的

+ 1NF : 数据字段的原子性, 增强数据的可用性

+ 2NF : 取消字段的部分依赖,建立数据的关联性, 减少数据冗余

+ 3NF : 取消字段的传递依赖,将相关实体独立划分, 减少数据冗余

+ 逆规范化 : 为了提升数据访问效率, 刻意增加数据冗余(磁盘空间利用率与访问效率的矛盾)

  

2、在进行数据表设计的时候,需要严格遵循范式规范

+ 基于规范设计数据表
+ 在设计表中深入认知范式规范
+ 熟练的基于业务设计数据表